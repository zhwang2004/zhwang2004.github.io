<!-- Add this right before the closing </body> tag in your main HTML file -->

<!-- Enhanced Chatbot Components -->
<div id="chatbot-icon" class="chatbot-icon">
    <i class="fas fa-robot"></i>
    <span class="chatbot-notification" style="display: none;">1</span>
</div>

<div id="chatbot-modal" class="chatbot-modal">
    <div class="chatbot-content">
        <div class="chatbot-header">
            <h3><i class="fas fa-robot"></i> Ziheng's AI Assistant</h3>
            <span class="close-chatbot">Ã—</span>
        </div>
        <div class="chatbot-messages" id="chatbot-messages">
            <div class="message bot-message">Hello! I'm Ziheng's AI assistant. You can ask me anything about Ziheng's research, education, projects, or just chat with me!</div>
        </div>
        <div class="chatbot-input-container">
            <input type="text" id="chatbot-input" placeholder="Type your question here..." />
            <button id="chatbot-send">
                <i class="fas fa-paper-plane"></i>
            </button>
        </div>
        <div class="chatbot-suggestions">
            <span class="suggestion-chip" data-question="about">Who is Ziheng?</span>
            <span class="suggestion-chip" data-question="research">Research interests?</span>
            <span class="suggestion-chip" data-question="projects">Projects?</span>
            <span class="suggestion-chip" data-question="contact">Contact info?</span>
        </div>
    </div>
</div>

<!-- Add this to your existing <style> section or create a new one in the <head> -->
<style>
    /* Enhanced Chatbot Styles */
    .chatbot-icon {
        position: fixed;
        bottom: 20px;
        right: 20px;
        background-color: #3498db;
        color: white;
        width: 60px;
        height: 60px;
        border-radius: 50%;
        display: flex;
        align-items: center;
        justify-content: center;
        font-size: 1.5rem;
        cursor: pointer;
        box-shadow: 0 4px 12px rgba(0, 0, 0, 0.2);
        transition: transform 0.3s, background-color 0.3s;
        z-index: 1000;
    }

    .chatbot-notification {
        position: absolute;
        top: 0;
        right: 0;
        background-color: #e74c3c;
        color: white;
        font-size: 12px;
        width: 20px;
        height: 20px;
        border-radius: 50%;
        display: flex;
        align-items: center;
        justify-content: center;
        font-weight: bold;
    }

    .chatbot-icon:hover {
        transform: scale(1.1);
        background-color: #f39c12;
    }

    .chatbot-modal {
        display: none;
        position: fixed;
        bottom: 90px;
        right: 20px;
        width: 430px;
        background-color: white;
        border-radius: 15px;
        box-shadow: 0 5px 25px rgba(0, 0, 0, 0.25);
        z-index: 1000;
        animation: slideUp 0.3s ease;
        overflow: hidden;
    }

    .chatbot-content {
        display: flex;
        flex-direction: column;
        height: 750px;
    }

    .chatbot-header {
        background: linear-gradient(135deg, #0a3d62, #3498db);
        color: white;
        padding: 15px;
        border-radius: 15px 15px 0 0;
        display: flex;
        justify-content: space-between;
        align-items: center;
        box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
    }

    .chatbot-header h3 {
        font-size: 1.2rem;
        margin: 0;
        display: flex;
        align-items: center;
        gap: 8px;
    }

    .close-chatbot {
        cursor: pointer;
        font-size: 1.5rem;
        transition: color 0.3s;
    }

    .close-chatbot:hover {
        color: #f39c12;
    }

    .chatbot-messages {
        flex: 1;
        padding: 15px;
        overflow-y: auto;
        background-color: #f5f6fa;
        display: flex;
        flex-direction: column;
        gap: 12px;
    }

    .message {
        margin-bottom: 10px;
        padding: 12px 16px;
        border-radius: 18px;
        max-width: 80%;
        word-wrap: break-word;
        box-shadow: 0 1px 2px rgba(0, 0, 0, 0.1);
        line-height: 1.4;
        animation: fadeIn 0.3s ease-out;
    }

    @keyframes fadeIn {
        from { opacity: 0; transform: translateY(10px); }
        to { opacity: 1; transform: translateY(0); }
    }

    .bot-message {
        background-color: #3498db;
        color: white;
        border-top-left-radius: 5px;
        align-self: flex-start;
        position: relative;
    }

    .bot-message::before {
        content: '';
        position: absolute;
        left: -8px;
        bottom: 0;
        border-right: 12px solid #3498db;
        border-top: 12px solid transparent;
        border-bottom: 0px solid transparent;
    }

    .user-message {
        background-color: #e9e9e9;
        color: #333;
        border-top-right-radius: 5px;
        align-self: flex-end;
        position: relative;
    }

    .user-message::before {
        content: '';
        position: absolute;
        right: -8px;
        bottom: 0;
        border-left: 12px solid #e9e9e9;
        border-top: 12px solid transparent;
        border-bottom: 0px solid transparent;
    }

    .chatbot-input-container {
        display: flex;
        padding: 15px;
        background-color: white;
        border-top: 1px solid #eee;
    }

    #chatbot-input {
        flex: 1;
        padding: 12px 15px;
        border: 1px solid #ddd;
        border-radius: 25px;
        font-size: 14px;
        outline: none;
        transition: border-color 0.3s;
    }

    #chatbot-input:focus {
        border-color: #3498db;
    }

    #chatbot-send {
        background-color: #3498db;
        color: white;
        border: none;
        width: 40px;
        height: 40px;
        border-radius: 50%;
        margin-left: 10px;
        cursor: pointer;
        display: flex;
        align-items: center;
        justify-content: center;
        transition: background-color 0.3s;
    }

    #chatbot-send:hover {
        background-color: #f39c12;
    }

    .chatbot-suggestions {
        padding: 10px 15px;
        display: flex;
        flex-wrap: wrap;
        gap: 8px;
        background-color: #f8f9fa;
        border-top: 1px solid #eee;
    }

    .suggestion-chip {
        background-color: #e9e9e9;
        color: #333;
        padding: 6px 12px;
        border-radius: 15px;
        font-size: 12px;
        cursor: pointer;
        transition: background-color 0.2s;
    }

    .suggestion-chip:hover {
        background-color: #3498db;
        color: white;
    }

    .typing-indicator {
        display: flex;
        align-items: center;
        margin-bottom: 15px;
    }

    .typing-indicator span {
        height: 8px;
        width: 8px;
        background-color: rgba(255, 255, 255, 0.7);
        border-radius: 50%;
        display: inline-block;
        margin-right: 3px;
        animation: typing 1.5s infinite ease-in-out;
    }

    .typing-indicator span:nth-child(2) {
        animation-delay: 0.2s;
    }

    .typing-indicator span:nth-child(3) {
        animation-delay: 0.4s;
    }

    @keyframes typing {
        0% { transform: translateY(0px); }
        50% { transform: translateY(-5px); }
        100% { transform: translateY(0px); }
    }

    @keyframes slideUp {
        from { transform: translateY(30px); opacity: 0; }
        to { transform: translateY(0); opacity: 1; }
    }

    @media (max-width: 480px) {
        .chatbot-modal {
            width: calc(100% - 40px);
            right: 20px;
            bottom: 80px;
            height: 450px;
        }

        .chatbot-content {
            height: 100%;
        }
    }
</style>

<!-- Add this right before the closing </body> tag -->
<script>
    // Enhanced Chatbot functionality with API and text input
    (function() {
        // DOM Elements
        const chatbotIcon = document.getElementById('chatbot-icon');
        const chatbotModal = document.getElementById('chatbot-modal');
        const closeChatbot = document.querySelector('.close-chatbot');
        const messagesContainer = document.getElementById('chatbot-messages');
        const chatbotInput = document.getElementById('chatbot-input');
        const chatbotSend = document.getElementById('chatbot-send');
        const suggestionChips = document.querySelectorAll('.suggestion-chip');
        const notification = document.querySelector('.chatbot-notification');

        // Knowledge Base - Comprehensive info about Ziheng
        const knowledgeBase = {
            about: {
                keywords: ['who', 'about', 'yourself', 'introduction', 'profile', 'background', 'ziheng', 'wang'],
                response: "I'm Ziheng Wang, a undergraduate at Nanjing University of Information Science and Technology (NUIST), majoring in Internet of Things Engineering. I'm now ranked 2nd out of 34 students with a GPA of 3.969/5.0 (equivalent to 3.8+/4.0). My current research focuses on machine learning algorithms for healthcare, multimodal tasks, and computer vision. I'm currently seeking PhD and research-oriented Master's opportunities.",
                },
            education: {
                keywords: ['education', 'university', 'school', 'degree', 'college', 'gpa', 'study', 'major', 'nuist', 'waterford'],
                response: "I'm studying at Nanjing University of Information Science and Technology (NUIST) through a 4+0 joint program with South East Technological University (SETU) in Ireland. I'm pursuing a B.Eng. in Internet of Things Engineering (2022-2026) with a GPA of 3.969/5.0, ranking 2nd in my class. All my major courses are taught in English, which provides me with strong international exposure and cross-cultural skills. I'll receive a dual degree with expected First Class Honors from SETU in 2026."
            },
            research: {
                keywords: ['research', 'interest', 'focus', 'area', 'study', 'specialization', 'ai', 'ml', 'machine learning'],
                response: "My research focuses on machine learning algorithms for healthcare applications, particularly cardiovascular disease diagnosis. I've developed an adaptive weighted boosting framework that improves diagnostic accuracy. I'm also interested in multimodal learning, including visible light-infrared pedestrian re-identification and UAV intelligent perception with multi-modal data fusion. I excel in working with ensemble algorithms, particularly AdaBoost variations, and have created innovations like APPBoost, an adaptive parameter-pair boosting algorithm with enhanced robustness against noise and imbalance."
            },
            publications: {
                keywords: ['publication', 'paper', 'journal', 'article', 'publish', 'author', 'write', 'research paper', 'patent'],
                response: "I've published research papers in SCI and CCF-recommended journals, including: 1) 'An Adaptive Weighted Boosting Framework for Enhanced Cardiovascular Disease Diagnosis' in Biomedical Signal Processing and Control (SCI, JCR-Q1), and 2) 'APPBoost: An Adaptive Parameter-Pair Boosting Algorithm for Enhanced Robustness Against Noise and Imbalance' in The Journal of Supercomputing (SCI, JCR-Q2, CCF-C). I'm also the first inventor on a nationally authorized patent: 'An Adaptive Enhanced Method for Cardiovascular Disease Diagnosis Using Weight Parameter Adjustment' (Patent Number: ZL 2024 1 1625421.3)."
            },
            projects: {
                keywords: ['project', 'work', 'research project', 'innovation', 'leading', 'development', 'creating'],
                response: "I've led several significant research projects: 1) Principal Investigator for the National-level College Students' Innovation and Entrepreneurship Training Program on 'Early Diagnosis Algorithms for Cardiovascular Diseases Based on Adaptive and Feature Interaction' (2024-2025), 2) Research on UAV Intelligent Perception using multi-modal data fusion and 3D trajectory estimation, and 3) Innovative research on Visible Light-Infrared Pedestrian Re-Identification (VI-ReID) addressing pedestrian matching under different lighting conditions. My projects focus on developing practical applications of machine learning for real-world problems."
            },
            awards: {
                keywords: ['award', 'honor', 'prize', 'recognition', 'win', 'achievement', 'scholarship', 'contest', 'competition', 'modeling'],
                response: "I've received numerous awards in mathematical modeling and academics: 1) Second Prize in the China Undergraduate Mathematical Contest in Modeling (CUMCM, National-level), 2) Honorable Mention (H Award) in the Mathematical Contest in Modeling (MCM/ICM), 3) First Prize in the Jiangsu Province Advanced Mathematics Contest, 4) First-Class Scholarship (2023 & 2024), 5) First Prize in the Chinese College English Translation Contest (Provincial-level), and many more. I've won over ten provincial or higher awards, demonstrating excellence in both technical and language skills."
            },
            skills: {
                keywords: ['skill', 'ability', 'expertise', 'proficiency', 'knowledge', 'programming', 'technique', 'language', 'tool'],
                response: "My technical skills include: 1) Machine Learning: AdaBoost and ensemble algorithms, deep learning (TensorFlow, PyTorch), multi-modal learning, and evolutionary optimization. 2) Programming: Python, Java, JavaScript, Kotlin, C++, MATLAB, and Linux. 3) Data Management: MySQL, MongoDB, data visualization, and statistical analysis. 4) Academic Skills: Mathematical modeling, scientific writing, LaTeX, literature review, and academic presentation. My language skills include English (CET-6: 574, IELTS: 6.5 with Reading: 8)."
            },
            contact: {
                keywords: ['contact', 'email', 'phone', 'reach', 'connect', 'message', 'get in touch', 'github', 'scholar'],
                response: "You can reach me through: Email: zhwang@nuist.edu.cn, Phone: +86 136-4157-7335, GitHub: https://github.com/Nickory, Google Scholar: https://scholar.google.com/citations?user=QrHma30AAAAJ. I'm currently seeking PhD and research-oriented Master's opportunities in machine learning, healthcare applications, and intelligent systems. I'm very eager to join a dynamic research team and would be pleased to discuss potential collaborations."
            },
            future: {
                keywords: ['future', 'plan', 'goal', 'aspiration', 'career', 'aim', 'objective', 'phd', 'graduate', 'master'],
                response: "I'm currently seeking opportunities for doctoral and research-oriented master's programs in machine learning, particularly applications in healthcare and intelligent systems. I aim to continue developing innovative algorithms that can have real-world impact in medical diagnosis and multimodal perception. My goal is to join a dynamic research team where I can contribute to advancing the field while continuing to develop my expertise in adaptive learning algorithms and healthcare applications."
            },
            greeting: {
                keywords: ['hello', 'hi', 'hey', 'greetings', 'good morning', 'good afternoon', 'good evening', 'howdy'],
                response: "Hello! I'm Ziheng's AI assistant. How can I help you learn more about Ziheng's research, education, projects, or skills today?"
            },
            thanks: {
                keywords: ['thank', 'thanks', 'appreciate', 'grateful', 'gratitude', 'thank you'],
                response: "You're welcome! I'm happy to share information about Ziheng. If you have any other questions, feel free to ask. Ziheng is always open to connecting with fellow researchers and potential collaborators!"
            },
            hobbies: {
                keywords: ['hobby', 'interest', 'free time', 'fun', 'leisure', 'enjoy', 'passion', 'pastime'],
                response: "Beyond academics, Ziheng enjoys reading sci-fi novels, experimenting with IoT devices, participating in mathematical modeling competitions, and learning about cutting-edge AI research. He's particularly passionate about finding practical applications for machine learning in everyday life and healthcare. In his free time, he also enjoys sharing his knowledge with peers and exploring innovative technologies."
            },
            entrepreneurship: {
                keywords: ['entrepreneur', 'startup', 'business', 'innovation', 'venture', 'company', 'enterprise', 'found', 'create', 'commercial', 'market', 'industry'],
        response: "While my primary focus is academic research, " +
            "I maintain an interest in entrepreneurship and technology commercialization:" +
            "\n\n1. Innovation and Application:\n- Interested in translating research innovations into practical applications\n- Participated in the \"Internet+\" College Students Innovation and Entrepreneurship Competition (Bronze Award)\n- Approach research with consideration for real-world implementation and market needs\n- Focus on developing technologies with clear practical value\n\n2. Healthcare Technology Commercialization:\n- Particular interest in how medical AI technologies can be ethically commercialized\n- Study of regulatory pathways for medical technology approval\n- Understanding of the unique challenges in healthcare technology markets\n- Interest in developing diagnostic tools that can be deployed in resource-limited settings\n\n3. Entrepreneurial Learning:\n- Completed online courses on technology entrepreneurship\n- Participated in university innovation workshops and events\n- Connected with student entrepreneurs through campus networks\n- Familiar with lean startup methodology and business model canvas\n\nWhile I plan to pursue an academic career in the near term, I recognize the importance of understanding business principles for successful technology transfer. I believe researchers should consider commercial viability alongside scientific innovation to ensure their work creates maximal real-world impact."
            },

    //         // Sports & Physical Activities
    //         sports: {
    //     keywords: ['sport', 'physical', 'fitness', 'exercise', 'athletic', 'workout', 'gym', 'training', 'health', 'outdoor', 'active', 'run', 'strength'],
    //     response: "Physical activity is an important part of my balanced lifestyle, complementing my academic pursuits:\n\n1. Regular Activities:\n- Jogging: Regular morning runs around the university campus and nearby parks\n- Swimming: Weekly swimming sessions at the university pool for cardio fitness\n- Badminton: Recreational player who enjoys friendly matches with classmates\n- Hiking: Occasional hiking trips to nearby mountains and nature reserves\n\n2. University Sports:\n- Participated in departmental badminton tournaments\n- Member of the university's recreational swimming group\n- Occasional participant in campus-wide sports events and competitions\n\n3. Fitness Philosophy:\n- Believe in the strong connection between physical and mental well-being\n- Practice regular exercise as a way to maintain focus and productivity in academic work\n- Advocate for taking regular breaks from intensive mental work for physical activity\n- Interest in the quantified self movement and fitness tracking technologies\n\nI find that maintaining physical fitness provides valuable balance to my research work, helping to prevent burnout and maintain mental clarity. Regular exercise also offers opportunities for informal networking and building relationships with peers outside of academic contexts."
    //      },
    //
    // // Travel Experience
    // travel: {
    //     keywords: ['travel', 'trip', 'journey', 'visit', 'tour', 'explore', 'destination', 'tourism', 'country', 'abroad', 'overseas', 'international'],
    //     response: "My travel experiences have shaped my global perspective and cultural awareness:\n\n1. Within China:\n- Explored major cities including Beijing, Shanghai, Guangzhou, Shenzhen, and Chengdu\n- Visited historical and cultural sites across various provinces\n- Experienced the diverse regional cultures and dialects of different Chinese regions\n- Participated in academic conferences and competitions in different cities\n\n2. Academic Travel:\n- Attended virtual international conferences with global participants\n- Participated in exchange programs with partner universities\n- Connected with international researchers through online collaborative platforms\n- Planning for future research visits to international institutions\n\n3. Travel Interests:\n- Particularly interested in visiting technology hubs and research centers globally\n- Fascinated by the intersection of traditional culture and modern innovation in different societies\n- Keen to experience different educational and research environments\n- Interest in observing how different urban environments implement smart city technologies\n\nThese travel experiences have broadened my perspective and helped me understand how cultural contexts influence technological development and implementation. They've also enhanced my ability to communicate and collaborate across cultural boundaries, which is increasingly important in the global research community."
    // },
    //
    // // Reading Habits
    // reading: {
    //     keywords: ['read', 'book', 'literature', 'novel', 'fiction', 'nonfiction', 'textbook', 'author', 'library', 'publication', 'story', 'article'],
    //     response: "Reading forms a significant part of both my academic development and personal enjoyment:\n\n1. Academic Reading:\n- Regularly review research papers in machine learning, healthcare AI, and computer vision\n- Follow key journals in my field including IEEE Transactions and Nature Machine Intelligence\n- Study textbooks on advanced algorithms, statistical methods, and mathematical foundations\n- Maintain awareness of emerging trends through preprint servers like arXiv\n\n2. Technical Books:\n- \"Pattern Recognition and Machine Learning\" by Christopher M. Bishop\n- \"Deep Learning\" by Ian Goodfellow, Yoshua Bengio, and Aaron Courville\n- \"The Elements of Statistical Learning\" by Trevor Hastie, Robert Tibshirani, and Jerome Friedman\n- \"Artificial Intelligence: A Modern Approach\" by Stuart Russell and Peter Norvig\n\n3. Literature and Non-fiction:\n- Science fiction with technological themes (e.g., works by Liu Cixin, Ted Chiang)\n- Books on the history and philosophy of science and technology\n- Biographies of influential scientists and innovators\n- Writings on the ethical implications of emerging technologies\n\n4. Reading Habits:\n- Maintain a systematic approach to academic reading with detailed notes and annotations\n- Use digital tools for organizing and retrieving information from research papers\n- Balance technical reading with broader literature for perspective\n- Participate in informal book discussions with peers\n\nI believe that diverse reading habits contribute significantly to creative problem-solving in research, providing new perspectives and analogies that can inspire novel approaches to technical challenges."
    // },
    //
    // // Food Preferences
    // food: {
    //     keywords: ['food', 'cuisine', 'dish', 'meal', 'cook', 'eat', 'restaurant', 'taste', 'culinary', 'recipe', 'flavor', 'dining'],
    //     response: "My culinary interests reflect both my cultural background and openness to diverse experiences:\n\n1. Regional Favorites:\n- Jiangsu Cuisine: Fond of the subtle, slightly sweet flavors of my home province's cuisine\n- Taizhou Specialties: Particularly enjoy the local river fish dishes and traditional Jingjiang pastries\n- Cantonese Cuisine: Appreciate the fresh ingredients and diverse cooking techniques\n- Sichuan Food: Enjoy the bold flavors and spices when seeking variety\n\n2. International Cuisines:\n- Developed an appreciation for Western cuisines through my international program\n- Particularly enjoy Italian pasta dishes and Mediterranean flavors\n- Interest in fusion cuisines that blend Chinese techniques with international ingredients\n- Curious about the scientific principles behind different cooking methods\n\n3. Culinary Approaches:\n- Occasional home cooking as a creative break from academic work\n- Interest in the chemistry and physics of cooking processes\n- Appreciation for both traditional recipes and modern culinary innovations\n- Enjoy exploring how food connects to cultural identity and social experiences\n\nFood is not just sustenance but also a way to connect with others and experience different cultures. I find that sharing meals creates natural opportunities for meaningful conversations and building relationships with colleagues and friends from diverse backgrounds."
    // },
    //
    // // Philosophy & Values
    // philosophy: {
    //     keywords: ['philosophy', 'value', 'belief', 'principle', 'ethic', 'moral', 'outlook', 'worldview', 'perspective', 'thought', 'mindset', 'ideology'],
    //     response: "My personal philosophy and values have been shaped by both traditional Chinese wisdom and contemporary global perspectives:\n\n1. Core Values:\n- Balance between tradition and innovation\n- Pursuit of knowledge and continuous improvement\n- Responsibility to use technology for positive social impact\n- Integrity in research and personal conduct\n- Harmonious relationship between humans and technology\n\n2. Research Philosophy:\n- Believe in developing technology that augments rather than replaces human capabilities\n- Commitment to ethical considerations in AI development\n- Value both theoretical advances and practical applications\n- Emphasis on interpretable and transparent algorithms, especially in critical domains like healthcare\n- Interest in the humanistic dimensions of technological development\n\n3. Educational Approach:\n- Advocate for the integration of humanities perspectives in technical education\n- Value interdisciplinary thinking and collaborative problem-solving\n- Believe in the importance of mentorship and knowledge sharing\n- Commitment to lifelong learning beyond formal education\n\n4. Influences:\n- Traditional Chinese philosophical concepts of harmony and balance\n- Contemporary discussions on responsible innovation and technology ethics\n- Scientific humanism that centers human wellbeing in technological development\n- Pragmatic approaches that value real-world impact\n\nThese philosophical perspectives guide both my research directions and personal development, helping me navigate the complex ethical questions that arise in artificial intelligence and machine learning research."
    // },
    //
    // // Future Plans
    // future: {
    //     keywords: ['future', 'plan', 'goal', 'aspiration', 'career', 'aim', 'objective', 'phd', 'graduate', 'master', 'ambition', 'vision', 'next'],
    //     response: "My future plans center around advancing research in machine learning with practical applications:\n\n1. Academic Aspirations:\n- Seeking opportunities for doctoral and research-oriented master's programs in machine learning\n- Focus on healthcare applications, multimodal learning, and intelligent systems\n- Interested in programs that balance theoretical advancement with practical implementation\n- Goal to eventually contribute as a faculty member at a research-oriented university\n\n2. Research Vision:\n- Develop next-generation adaptive learning algorithms with enhanced interpretability\n- Create innovative solutions for healthcare challenges through AI\n- Advance the field of multimodal perception for real-world applications\n- Bridge the gap between theoretical machine learning advances and practical deployment\n\n3. Collaborative Goals:\n- Join a dynamic research team where I can both contribute and continue learning\n- Establish international research collaborations across disciplines\n- Connect technical innovations with domain experts in healthcare and other fields\n- Build a network of both academic and industry partnerships\n\n4. Impact Objectives:\n- Develop technologies that meaningfully improve healthcare outcomes\n- Create accessible diagnostic tools that can be deployed in diverse settings\n- Contribute to the advancement of AI education and literacy\n- Participate in discussions about ethical guidelines for AI development\n\nI'm dedicated to pursuing a path that allows me to make substantive contributions to both the theoretical foundations and practical applications of machine learning, with a particular focus on technologies that can improve human wellbeing."
    // },
    //
    // // Methodology & Work Style
    // methodology: {
    //     keywords: ['methodology', 'method', 'approach', 'process', 'work style', 'workflow', 'routine', 'habit', 'research method', 'practice', 'system', 'technique'],
    //     response: "My research methodology and work style reflect my commitment to both rigor and innovation:\n\n1. Research Approach:\n- Begin with thorough literature review to understand the state of the art\n- Identify gaps and opportunities for meaningful contributions\n- Develop theoretical foundations before implementation\n- Emphasize reproducibility and thorough documentation\n- Conduct rigorous evaluation against established benchmarks\n- Balance theoretical innovation with practical applicability\n\n2. Daily Work Habits:\n- Maintain a structured schedule with dedicated time blocks for different activities\n- Begin mornings with focused research work when mental clarity is highest\n- Regularly alternate between intensive work periods and short breaks\n- Set specific daily, weekly, and monthly goals with clear metrics\n- Reserve time for exploration and creative thinking outside immediate tasks\n\n3. Collaboration Style:\n- Value clear communication and explicit role definition in team settings\n- Maintain regular check-ins and progress updates with collaborators\n- Contribute constructively to group discussions while respecting diverse perspectives\n- Willingness to both lead and support depending on project needs\n- Emphasize knowledge sharing and mutual growth\n\n4. Problem-Solving Approach:\n- Start with precise problem definition and requirement analysis\n- Break complex challenges into manageable components\n- Develop multiple potential solutions before selecting an approach\n- Create prototypes to test core concepts early in the process\n- Iterate based on empirical feedback and evaluation\n\nThis methodical yet flexible approach allows me to tackle complex research challenges effectively while maintaining high standards of quality and innovation."
    // },
    //
    // // Mental Model & Thinking Style
    // thinking: {
    //     keywords: ['think', 'mental', 'cognitive', 'mind', 'thought process', 'reasoning', 'analytical', 'logical', 'creative', 'intelligence', 'problem solving', 'brain'],
    //     response: "My thinking style combines analytical reasoning with creative exploration:\n\n1. Analytical Thinking:\n- Strong foundation in mathematical reasoning and logical analysis\n- Systematic approach to breaking down complex problems\n- Comfort with abstract concepts and theoretical frameworks\n- Data-driven decision making based on quantitative evidence\n- Attention to detail while maintaining awareness of the bigger picture\n\n2. Creative Approaches:\n- Draw connections between seemingly unrelated concepts\n- Apply analogies from diverse fields to generate new perspectives\n- Create visual representations to understand complex relationships\n- Value periods of unfocused thinking that allow for subconscious processing\n- Deliberately expose myself to diverse ideas outside my primary field\n\n3. Learning Strategies:\n- Prefer first principles understanding over memorization\n- Use teaching and explanation as tools to deepen comprehension\n- Create structured knowledge maps to organize information\n- Practice regular reflection and meta-cognitive review\n- Balance depth in core areas with breadth across related fields\n\n4. Interdisciplinary Perspective:\n- Draw insights from fields adjacent to computer science\n- Consider how psychological principles affect human-AI interaction\n- Incorporate biological metaphors into algorithm design\n- Apply principles from physics and mathematics to computational problems\n\nThis balanced cognitive approach allows me to develop innovative solutions that are both technically sound and creatively distinct, particularly valuable in research areas requiring novel approaches to complex problems."
    // },
    //
    // // Technical Challenges & Interests
    // technicalChallenges: {
    //     keywords: ['challenge', 'difficult', 'complex', 'hard', 'problem', 'hurdle', 'obstacle', 'limitation', 'constraint', 'barrier', 'unsolved', 'frontier'],
    //     response: "I'm particularly interested in tackling several challenging technical problems in AI and machine learning:\n\n1. Interpretability in Complex Models:\n- Developing methods to make advanced ensemble models more transparent\n- Creating visualization techniques for understanding model decision processes\n- Designing inherently interpretable models that maintain high performance\n- Bridging the gap between black-box performance and explainable AI\n\n2. Multimodal Learning Challenges:\n- Addressing domain gaps between different data modalities (e.g., visual vs. infrared)\n- Creating unified representations across heterogeneous data sources\n- Developing efficient fusion techniques that preserve information from each modality\n- Handling missing or corrupted modalities in real-world applications\n\n3. Resource-Constrained AI:\n- Adapting complex algorithms to run efficiently on edge devices\n- Developing techniques for model compression and knowledge distillation\n- Creating adaptive algorithms that scale according to available resources\n- Enabling sophisticated AI capabilities in healthcare devices with limited computing power\n\n4. Robustness and Adaptation:\n- Enhancing model performance in the presence of noise and outliers\n- Developing systems that maintain accuracy across diverse populations and conditions\n- Creating algorithms that can adapt to concept drift and evolving data distributions\n- Designing fault-tolerant systems for critical applications\n\nThese challenges represent areas where I believe significant contributions can be made, particularly at the intersection of theoretical advances and practical implementations. I'm drawn to problems that require both mathematical rigor and creative engineering solutions."
    // },
    //
    // // Interdisciplinary Interests
    // interdisciplinary: {
    //     keywords: ['interdisciplinary', 'multidisciplinary', 'cross-disciplinary', 'intersection', 'combine', 'merge', 'integrate', 'fusion', 'bridge', 'connect', 'across fields'],
    //     response: "I'm fascinated by interdisciplinary approaches that combine insights from multiple fields:\n\n1. AI and Healthcare:\n- Integration of medical domain knowledge with machine learning algorithms\n- Collaboration between clinical experts and AI researchers\n- Addressing challenges in medical data interpretation and diagnosis\n- Ethical considerations at the intersection of AI and medicine\n\n2. Computational Biology and AI:\n- Applications of machine learning to genomics and proteomics\n- Biologically-inspired algorithms and neural architectures\n- Pattern recognition in biological systems and its computational applications\n- Evolution-inspired optimization methods\n\n3. Cognitive Science and Machine Learning:\n- Understanding human perception to improve computer vision systems\n- Incorporating cognitive models into machine learning frameworks\n- Drawing parallels between human learning and machine learning processes\n- Developing AI systems that complement human cognitive capabilities\n\n4. IoT, Edge Computing, and AI:\n- Creating intelligent distributed systems using IoT networks\n- Optimizing machine learning for resource-constrained edge devices\n- Developing privacy-preserving methods for distributed learning\n- Integrating physical sensing with intelligent processing\n\nI believe that many of the most significant innovations occur at the boundaries between traditional disciplines. My background in both IoT engineering and machine learning naturally positions me to work at these intersections, combining insights from different domains to develop more holistic solutions to complex problems."
    // },
    //
    // // Technological Ethics
    // ethics: {
    //     keywords: ['ethic', 'moral', 'responsible', 'fairness', 'bias', 'privacy', 'transparency', 'accountability', 'justice', 'right', 'wrong', 'should', 'ought'],
    //     response: "I'm deeply committed to the ethical dimensions of technology development:\n\n1. AI Ethics Principles:\n- Fairness and bias mitigation in algorithm design and training\n- Transparency and explainability, especially in high-stakes domains like healthcare\n- Privacy protection and responsible data usage\n- Human oversight and appropriate levels of autonomy\n- Accountability in AI system deployment\n\n2. Healthcare AI Considerations:\n- Particular attention to equity in medical applications\n- Ensuring that diagnostic systems don't reinforce existing healthcare disparities\n- Balancing innovation with safety and proven effectiveness\n- Maintaining appropriate roles for human expertise and AI assistance\n- Respecting patient autonomy and informed consent\n\n3. Data Ethics:\n- Commitment to responsible data collection and usage\n- Recognition of potential biases in training datasets\n- Careful consideration of privacy implications, especially with sensitive information\n- Focus on representative diversity in research data\n\n4. Broader Impact Considerations:\n- Regular reflection on the societal implications of technological research\n- Consideration of potential dual-use concerns in algorithm development\n- Interest in developing technology that democratizes access to capabilities\n- Recognition of the researcher's responsibility to consider downstream effects\n\nI believe that ethical considerations should be integrated throughout the research and development process, not added as an afterthought. As AI systems become more powerful and prevalent, ensuring they align with human values and benefit humanity broadly becomes increasingly important."
    // },
    //
    // // Communication Style
    // communication: {
    //     keywords: ['communicate', 'communication', 'express', 'articulate', 'present', 'explain', 'discussion', 'conversation', 'talk', 'speak', 'write', 'language'],
    //     response: "My communication style emphasizes clarity, precision, and effective knowledge transfer:\n\n1. Academic Communication:\n- Focus on clear structure and logical flow in research papers and presentations\n- Ability to explain complex technical concepts to both specialist and non-specialist audiences\n- Experience presenting research findings at university symposiums and seminars\n- Strong technical writing skills developed through paper publication process\n\n2. Interpersonal Communication:\n- Direct yet respectful approach to team discussions and collaborations\n- Active listening as a foundation for effective knowledge exchange\n- Comfort with both leadership communication and collaborative dialogue\n- Adaptable communication style based on audience and context\n\n3. Cross-cultural Communication:\n- Experience navigating Chinese and international academic contexts\n- Sensitivity to cultural differences in communication styles\n- Ability to bridge communication gaps in international collaborations\n- Multilingual capabilities enhancing communication possibilities\n\n4. Visual and Technical Communication:\n- Use of data visualization to enhance understanding of complex information\n- Creation of clear diagrams and illustrations to support technical explanations\n- Experience with various presentation tools and formats\n- Interest in innovative ways to communicate abstract concepts\n\nI believe effective communication is essential for both research impact and collaborative success. Technical excellence must be paired with the ability to clearly convey ideas, results, and implications to various stakeholders, from fellow researchers to potential users of technology."
    // },
    //
    // // Learning Approach
    // learning: {
    //     keywords: ['learn', 'study', 'education', 'knowledge', 'understand', 'comprehend', 'grasp', 'mastery', 'skill acquisition', 'development', 'training', 'growth'],
    //     response: "My approach to learning and knowledge acquisition is systematic and multifaceted:\n\n1. Learning Methodology:\n- Focus on understanding fundamental principles rather than memorization\n- Integration of theoretical knowledge with practical implementation\n- Regular reflection and self-assessment to identify knowledge gaps\n- Structured note-taking and knowledge organization systems\n- Deliberate practice of key skills with progressive challenges\n\n2. Resources and Approaches:\n- Combination of formal coursework, research papers, textbooks, and online resources\n- Participation in research seminars and academic discussions\n- Hands-on projects to reinforce theoretical concepts\n- Peer learning through collaborative problem-solving\n- Teaching and explaining concepts to others to deepen understanding\n\n3. Continuous Improvement:\n- Systematic tracking of learning progress and outcomes\n- Regular updates to learning plans based on emerging field developments\n- Seeking and integrating feedback from mentors and peers\n- Balancing depth in core areas with breadth across related fields\n- Setting challenging but achievable learning goals\n\n4. Learning Adaptability:\n- Flexibility in adjusting learning strategies based on subject matter\n- Comfort with both structured and exploratory learning approaches\n- Ability to rapidly acquire new technical skills when required for projects\n- Integration of insights across different domains and disciplines\n\nI view learning as a lifelong process central to both academic success and personal growth. My systematic yet flexible approach allows me to efficiently acquire new knowledge and skills while maintaining a strong foundation in core principles."
    // },
    //
    // // Collaboration Style
    // collaboration: {
    //     keywords: ['collaborate', 'cooperation', 'team', 'teamwork', 'partner', 'joint', 'together', 'colleague', 'group work', 'collective', 'shared', 'alliance'],
    //     response: "My approach to collaboration emphasizes effective teamwork and knowledge integration:\n\n1. Collaborative Philosophy:\n- Value diverse perspectives and complementary expertise\n- Believe the best solutions often emerge from collective intelligence\n- Focus on shared goals while respecting individual contributions\n- Maintain transparency in communication and decision-making\n- Balance individual initiative with team coordination\n\n2. Team Roles:\n- Comfortable in various roles based on project needs and team composition\n- Effective as a technical lead focusing on algorithm development and implementation\n- Capable as a bridge between different specializations (e.g., ML and healthcare)\n- Contribute to documentation and knowledge management\n- Willing to both lead when needed and support others' leadership\n\n3. Collaboration Practices:\n- Regular structured communication through meetings and progress updates\n- Clear documentation of decisions, rationales, and technical details\n- Use of collaborative tools for code sharing, version control, and project management\n- Constructive approach to feedback and critique\n- Recognition and acknowledgment of others' contributions\n\n4. Cross-disciplinary Collaboration:\n- Experience working with domain experts from different fields\n- Ability to translate between technical and domain-specific languages\n- Appreciation for methodological differences across disciplines\n- Focus on finding common ground and shared objectives\n\nI've found that effective collaboration not only leads to better research outcomes but also creates opportunities for mutual learning and growth. In the complex challenges of AI and healthcare, diverse perspectives and complementary skills are essential for developing comprehensive solutions."
    // },
    //
    // // Daily Routine
    // routine: {
    //     keywords: ['routine', 'schedule', 'daily', 'habit', 'regimen', 'day', 'morning', 'evening', 'night', 'time management', 'productivity', 'organize'],
    //     response: "My daily routine reflects my commitment to balanced productivity and continuous improvement:\n\n1. Morning Routine:\n- Early start (typically 6:30 AM) to maximize productive hours\n- Begin with light exercise or a morning jog to energize\n- Dedicated time for reviewing research notes and planning the day\n- Focus on most challenging cognitive tasks during peak morning hours\n- Regular short breaks using the Pomodoro technique (25-minute work intervals)\n\n2. Academic Schedule:\n- Attend classes and labs according to university timetable\n- Schedule research blocks between classes when possible\n- Reserve dedicated hours for independent study and project work\n- Maintain consistent meeting times with research collaborators\n- Allocate time for both theoretical study and practical implementation\n\n3. Evening Activities:\n- Review the day's progress and adjust plans for the following day\n- Lighter academic work like reading papers or reviewing notes\n- Time for physical activity and stress management\n- Social interactions and extracurricular activities\n- Wind down period with reduced screen time before sleep\n\n4. Weekly Planning:\n- Sunday evening planning session to set weekly goals and priorities\n- Mid-week review to assess progress and make adjustments\n- Balance between structured routine and flexibility for unexpected opportunities\n- Regular reflection on effectiveness of time management strategies\n\nThis structured approach helps me maintain productivity while preventing burnout. I find that alternating between different types of activitiesâ€”research, coursework, physical exercise, and social interactionâ€”optimizes both productivity and wellbeing."
    // },
    //
    // // Career Aspirations
    // career: {
    //     keywords: ['career', 'profession', 'job', 'occupation', 'vocation', 'employment', 'work', 'professional', 'industry', 'academia', 'position', 'role'],
    //     response: "My career aspirations center around academic research with practical impact:\n\n1. Near-term Goals (1-5 years):\n- Complete a PhD in Machine Learning/Computer Science at a leading research institution\n- Publish influential papers in top-tier conferences and journals (e.g., NeurIPS, ICML, CVPR)\n- Develop expertise at the intersection of machine learning, healthcare, and multimodal systems\n- Build a strong international network of research collaborators\n- Gain experience mentoring junior researchers and students\n\n2. Mid-term Goals (5-10 years):\n- Secure a position as Assistant Professor or Research Scientist\n- Establish a research lab focusing on adaptive learning systems and healthcare applications\n- Obtain research grants to support innovative work in these areas\n- Develop courses bridging theory and practice in machine learning\n- Create open-source tools and resources for the research community\n\n3. Long-term Vision:\n- Make significant contributions to both theoretical foundations and practical applications\n- Bridge research advances with real-world implementations, particularly in healthcare\n- Mentor the next generation of researchers and innovators\n- Contribute to ethical guidelines and standards for AI deployment\n- Establish international research collaborations across disciplines\n\n4. Values and Priorities:\n- Prioritize research with potential for positive societal impact\n- Maintain balance between theoretical advances and practical applications\n- Value both individual contributions and collaborative achievements\n- Emphasize ethical considerations throughout the research process\n- Commitment to open science and knowledge sharing\n\nI aim to develop a career that combines research excellence with meaningful real-world impact, particularly focusing on technologies that can improve healthcare outcomes and quality of life."
    // },
    //
    // // Social Activities
    // social: {
    //     keywords: ['social', 'friend', 'relationship', 'network', 'community', 'gathering', 'party', 'meet', 'connection', 'interact', 'socialize', 'acquaintance'],
    //     response: "My social activities provide balance to my academic pursuits and enrich my perspective:\n\n1. Academic Community:\n- Active participation in research groups and academic clubs\n- Regular attendance at departmental seminars and discussions\n- Engagement with the international student community at NUIST\n- Participation in cross-department technical meetups and hackathons\n\n2. Friendship Circles:\n- Maintain close connections with fellow students in my program\n- Regular study groups that combine academic work with social interaction\n- Weekend gatherings with friends from diverse academic backgrounds\n- Virtual connections with friends from high school and other contexts\n\n3. Community Involvement:\n- Volunteer for STEM education initiatives in local schools\n- Participation in university outreach programs\n- Engagement with online communities related to my technical interests\n- Occasional participation in local cultural events in Nanjing\n\n4. Digital Connections:\n- Active in academic networks and research communities\n- Maintain connections with international collaborators through virtual platforms\n- Participate in technical forums and discussion groups\n- Share knowledge and experiences through academic social media\n\nI believe that a balanced social life contributes significantly to both personal wellbeing and professional development. Diverse social connections provide exposure to different perspectives, create opportunities for interdisciplinary thinking, and help maintain motivation and creativity in research work."
    // },
    //
    // // Tech Industry Views
    //      techIndustry: {keywords: ['tech industry', 'silicon valley', 'technology company', 'corporate', 'business', 'enterprise', 'startup', 'commercial', 'product', 'market', 'company'],
    //     response: "My perspective on the technology industry balances appreciation for innovation with thoughtful critique:\n\n1. Industry-Academia Relationship:\n- Value the complementary roles of academic research and industry development\n- Recognize industry's strengths in scaling and implementing technologies\n- Appreciate academia's freedom to pursue fundamental questions and long-term research\n- Interested in collaborative models that leverage the strengths of both sectors\n\n2. Innovation Ecosystem:\n- Follow major technological developments across both established companies and startups\n- Interest in how research findings translate into commercial applications\n- Appreciation for the role of venture capital in bringing new technologies to market\n- Recognition of both Western and Chinese technology ecosystem models\n\n3. Critical Perspectives:\n- Concern for responsible development and ethical implementation of AI technologies\n- Interest in ensuring equitable access to technological benefits across societies\n- Recognition of potential societal impacts, both positive and negative\n- Attention to privacy, security, and transparency issues in commercial AI systems\n\n4. Future Trends:\n- Closely follow emerging technologies, particularly in AI, healthcare, and IoT\n- Interest in the growing integration of AI across traditional industries\n- Observation of changes in computing paradigms, from cloud to edge to ambient intelligence\n- Attention to evolving regulatory frameworks and their impact on technology development\n\nWhile my primary focus is academic research, I maintain awareness of industry developments and believe in the importance of understanding commercial contexts for technology implementation. The most impactful advancements often emerge from productive dialogue between academic innovation and industry scale."
    // },
    //
    // // Teaching Experience
    //      teaching: {
    //     keywords: ['teach', 'teaching', 'tutor', 'mentor', 'instructor', 'educate', 'explain', 'lecture', 'coach', 'train', 'guidance', 'supervise'],
    //     response: "I've gained teaching and mentoring experience through various academic and peer education roles:\n\n1. Peer Tutoring:\n- Served as a peer tutor for Data Structures and Algorithms courses\n- Helped fellow students understand complex programming concepts\n- Developed effective explanations and examples for challenging topics\n- Received positive feedback for clear and patient teaching approach\n\n2. Workshop Leadership:\n- Led technical workshops on machine learning fundamentals for junior students\n- Organized hands-on sessions on programming and algorithm implementation\n- Created supplementary learning materials to reinforce key concepts\n- Designed progressive exercises to build skills systematically\n\n3. Project Mentorship:\n- Guided junior students in research-oriented class projects\n- Provided feedback and direction on technical implementation\n- Helped students develop problem-solving approaches and research skills\n- Emphasized both technical correctness and effective communication\n\n4. Educational Content Creation:\n- Developed tutorial materials for programming concepts\n- Created visualizations to explain complex algorithms\n- Contributed to departmental study resources\n- Documented best practices for common technical challenges\n\nI find teaching to be intellectually rewarding and complementary to my research. Explaining concepts clearly requires deep understanding, and student questions often reveal new perspectives on familiar material. In my future academic career, I hope to integrate research and teaching, bringing current research into the classroom while using teaching insights to inform research directions."
    // }
        };

        // Show notification on first load
        if (!sessionStorage.getItem('chatbotShown')) {
            setTimeout(() => {
                if (notification) {
                    notification.style.display = 'flex';
                }
            }, 3000);
            sessionStorage.setItem('chatbotShown', 'true');
        }

        // Function to find the best response based on input
        function findBestResponse(input) {
            if (!input) return "I didn't catch that. Could you please rephrase your question about Ziheng?";

            input = input.toLowerCase();
            let bestMatch = null;
            let highestScore = 0;

            // Check each knowledge category
            for (const category in knowledgeBase) {
                const data = knowledgeBase[category];
                let score = 0;

                // Calculate match score based on keywords
                data.keywords.forEach(keyword => {
                    if (input.includes(keyword.toLowerCase())) {
                        score += 1;
                    }
                });

                // Update best match if this category has a higher score
                if (score > highestScore) {
                    highestScore = score;
                    bestMatch = data.response;
                }
            }

            // If no good match found, provide a general response
            if (highestScore === 0) {
                return "I'm not sure I understand your question about Ziheng. You can ask about his education, research interests, publications, projects, awards, skills, or contact information. How can I help you?";
            }

            return bestMatch;
        }

        // Function to add a message to the chat
        function addMessage(text, isUser = false) {
            const messageDiv = document.createElement('div');
            messageDiv.classList.add('message');
            messageDiv.classList.add(isUser ? 'user-message' : 'bot-message');
            messageDiv.textContent = text;
            messagesContainer.appendChild(messageDiv);

            // Scroll to the latest message
            messagesContainer.scrollTop = messagesContainer.scrollHeight;
        }

        // Function to show typing indicator
        function showTypingIndicator() {
            const indicator = document.createElement('div');
            indicator.className = 'message bot-message typing-indicator';
            indicator.innerHTML = '<span></span><span></span><span></span>';
            indicator.id = 'typing-indicator';
            messagesContainer.appendChild(indicator);
            messagesContainer.scrollTop = messagesContainer.scrollHeight;
        }

        // Function to remove typing indicator
        function removeTypingIndicator() {
            const indicator = document.getElementById('typing-indicator');
            if (indicator) {
                indicator.remove();
            }
        }

        // Function to handle sending a message
        function sendMessage() {
            const message = chatbotInput.value.trim();
            if (message) {
                // Add user message
                addMessage(message, true);
                chatbotInput.value = '';

                // Show typing indicator
                showTypingIndicator();

                // Simulate thinking and API call with setTimeout
                setTimeout(() => {
                    removeTypingIndicator();
                    // Get response based on input
                    const response = findBestResponse(message);
                    addMessage(response, false);
                }, 1000 + Math.random() * 1000); // Random delay between 1-2 seconds
            }
        }

        // Event listener for Send button
        if (chatbotSend) {
            chatbotSend.addEventListener('click', sendMessage);
        }

        // Event listener for Enter key in input field
        if (chatbotInput) {
            chatbotInput.addEventListener('keypress', (e) => {
                if (e.key === 'Enter') {
                    sendMessage();
                }
            });
        }

        // Open chat window
        if (chatbotIcon) {
            chatbotIcon.addEventListener('click', function() {
                if (chatbotModal) {
                    chatbotModal.style.display = 'block';
                    // Hide notification when chat is opened
                    if (notification) {
                        notification.style.display = 'none';
                    }
                    // Focus on input field
                    if (chatbotInput) {
                        setTimeout(() => chatbotInput.focus(), 300);
                    }
                }
            });
        }

        // Close chat window
        if (closeChatbot) {
            closeChatbot.addEventListener('click', function() {
                if (chatbotModal) {
                    chatbotModal.style.display = 'none';
                }
            });
        }

        // Handle suggestion chips
        if (suggestionChips.length > 0) {
            suggestionChips.forEach(chip => {
                chip.addEventListener('click', function() {
                    const question = this.getAttribute('data-question');
                    const text = this.textContent;

                    // Add user message
                    addMessage(text, true);

                    // Show typing indicator
                    showTypingIndicator();

                    // Simulate API response
                    setTimeout(() => {
                        removeTypingIndicator();
                        const response = knowledgeBase[question] ?
                            knowledgeBase[question].response :
                            "I'm not sure about that. Maybe try asking something about Ziheng's research or education?";
                        addMessage(response, false);
                    }, 800);
                });
            });
        }
    })();
</script>